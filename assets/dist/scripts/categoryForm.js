!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var o=function(e){var t=window.location.origin;window.location.href=t+"/"+e.url},r=function(e){var t=document.querySelector("#category_id"),n="";n=t?"/categories/edit/"+t.value:"/categories/new-category",$.ajax({url:n,type:"POST",dataType:"json",data:JSON.stringify(e),contentType:"application/json",cache:!1,timeout:5e3,complete:function(){console.log("process complete")},success:function(e){o(e)},error:function(){console.log("process error")}})},l=function(e){var t=e.querySelectorAll(".question"),n=[];return t.forEach(function(e,t){var o={};o.text=e.querySelector("#id_question_txt").value,o.shortName=o.text.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"_"),o.orderIndex=t,o.nextLevel=parseInt(e.querySelector("#id_next_level").value),n.push(o)}),n},c=function(){var e={},t=document.querySelectorAll(".level-wrapper");return e.name=document.querySelector("#id_category_name").value,e.levels=[],t.forEach(function(t){var n={};n.levelIndex=t.querySelector("#id_level_index").value,n.questions=l(t),e.levels.push(n)}),e},u=function(e){return e.parentNode.removeChild(e)};document.getElementById("post-data").addEventListener("click",function(){var e=c();r(e)}),$(document).on("click","#add-question",function(e){var t=e.target.previousSibling,n=document.querySelector("[data-js=question-model]").cloneNode(!0);n.dataset.js="question",n.querySelector("#id_question_txt").value="",n.querySelector("#id_next_level").value="",t.appendChild(n)}),$(document).on("click",".remove-question",function(e){u(e.target.parentElement)}),document.getElementById("add-level").addEventListener("click",function(){var e=document.querySelector(".levels-wrapper"),t=document.querySelector("[data-js=level-model]").cloneNode(!0);t.dataset.js="level";var n=document.querySelectorAll(".level-wrapper").length+1;t.className="level-wrapper",t.querySelector("#id_level_index").value=n,e.appendChild(t)}),$(document).on("click",".remove-level",function(e){u(e.target.parentElement)})}]);